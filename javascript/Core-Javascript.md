코어 자바스크립트 책 정리

# 1. 데이터 타입

## 1-1. 데이터 타입의 종류

- 기본형 (primary)
- 참조형 (reference)

---

기본형은 값이 담긴 주솟값을 바로 복제하며 불변성(immutuability)을 가짐
참조형은 값이 담긴 주솟값들로 이루어진 묶음을 가르키는 주솟값을 복제

---

## 1-2. 데이터 타입에 관한 배경지식

- bit: 0과 1로 표현할 수 있는 하나의 메모리 조각 (데이터의 최소 단위)
  - 고유한 식별자(메모리 주솟값)를 통해 위치 파악 가능
- byte: 8개의 비트로 묶인 단위
- C/C++, JAVA등 정적 타입 언어는 메모리 낭비를 최소화하기 위해 데이터 타입 별 할당 메모리를 정해놓음
- 자바스크립트는 메모리의 압박에서 더 자유로운 상태에서 개발된 언어로 개발자가 형변환에 대해 걱정해야하는 상황이 줄어듦

- 변수: 변할 수 있는 데이터
- 식별자: 변수명

## 1-3. 변수 선언과 데이터 할당

```js
var a;
```

- 위 선언식의 의미: 변할 수 있는 데이터를 만든다. 이 데이터의 식별자는 a라고 한다.
- 변수를 선언하면 컴퓨터는 메모리 내의 빈 공간을 찾아 공간의 이름을 a로 하고 저장

```js
var a = "sunshine";
```

- 변수 선언과 데이터 할당 순서
  1. 변수 영역에서 빈 공간을 확보한다.
  2. 확보한 공간에 식별자를 a로 지정한다.
  3. 데이터 영역에서 빈 공간에 문자열 'sunshine'을 저장한다.
  4. 변수 영역에서 a 식별자를 검색한다.
  5. 저장한 문자열의 주소를 식별자 a가 저장된 공간에 대입힌다.
- 문자열은 효율적으로 변환을 처리하기 위해 변수 영역과 데이터 영역을 따로 저장
- 문자열을 새로 추가하면 새로운 별도 공간에 저장하여 주소 값을 변경함

## 1-4. 기본형 데이터와 참조형 데이터

- 변수와 상수는 변수 영역이며 불변셩 여부는 메모리 영역
- 참조형 데이터 변수 할당 과정

  1. 변수 영역에 빈 공간을 확보하고 식별자를 obj1으로 지정한다.
  2. 별도의 변수 영역을 마련하고 그 영역의 주소를 데이터 영역에 저장한다.
  3. 별도의 변수 영역에 프로퍼티 이름을 저장한다.
  4. 프로퍼티 값은 데이터 영역에 저장한다.
  5. 프로퍼티 이름을 저장한 변수 영역에 값을 저장한 데이터 영역의 주소를 저장한다.

- 값이 재할당 되면 참조 카운트가 0이 되며 가비지 컬렉터가 수거함
- 가비지 컬랙터(garbage collector): 런타임 환경에 따라 특정 시점이나 메모리 사용량이 다 찰 때마다 수거 대상을 수거함
- 참조형 데이터가 가변이다는 참조형 데이터 자체를 변경하는게 아닌 데이터 내부의 프로퍼티를 변경할 때 성립

## 1-5. 불변 객체

- 객체를 복사하면 주소 값이 동일하기 때문에 한 객체를 변경하면 다른 객체도 같이 변경됨
- 원본 객체가 변하지 않아야하는 경우가 생기는데 이 때 필요한게 불변 객체
- 얕은 복사: 바로 아래 단계만 복사하는 방법
- 깊은 복사: 내부의 모든 값들을 전부 복사하는 방법

## 1-6. undefined와 null

- 자바스크립트 엔진이 undefined를 반환하는 경우:

  1. 변수가 선언되었으나 데이터가 할당되지 않았을 때 불러오는 경우 (식별자는 있으나 데이터 영역에 메모리 주소를 지정하지 않은 경우)
  2. 객체 내 없는 프로퍼티에 접근할 때
  3. 함수 내에 return이 없거나 호출되지 않은 함수를 실행할 경우

- 비어있음을 명시적으로 나타낼 때는 `null`을 사용
- 자바스크립트 자체 버그: null이 object라는 점 (null은 기본형 데이터 타입이다.)
